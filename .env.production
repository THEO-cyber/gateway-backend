# =================================
# HND Backend - Scalability Configuration
# =================================

# Basic Configuration
NODE_ENV=production
PORT=5001
SERVER_ID=server-1

# Database Configuration (MongoDB)
MONGODB_URI=your_mongodb_connection_string
DB_MAX_POOL_SIZE=20
DB_MIN_POOL_SIZE=5
DB_MAX_IDLE_TIME=30000
DB_SERVER_SELECTION_TIMEOUT=5000
DB_CONNECT_TIMEOUT=10000
DB_SOCKET_TIMEOUT=45000

# Redis Configuration
REDIS_URL=your_redis_url
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX=1000          # Increased for production

# JWT Configuration
JWT_SECRET=your_very_secure_jwt_secret_key_here
JWT_EXPIRE=7d

# Email Configuration
RESEND_API_KEY=your_resend_api_key

# AI Configuration
OPENAI_API_KEY=your_openai_api_key

# Payment Configuration (NkwaPay)
NKWAPAY_API_KEY=your_nkwapay_api_key
NKWAPAY_BASE_URL=https://api.nkwapay.com

# File Upload Configuration
MAX_FILE_SIZE=10485760  # 10MB

# Performance Configuration
ENABLE_PERFORMANCE_MONITORING=true
LOG_LEVEL=info

# Cache TTL Settings (seconds)
CACHE_USER_SUBSCRIPTION_TTL=300    # 5 minutes
CACHE_AI_TOKENS_TTL=60            # 1 minute
CACHE_COURSE_ACCESS_TTL=600       # 10 minutes

# Background Job Settings
CLEANUP_INTERVAL=3600000          # 1 hour in milliseconds
TOKEN_RESET_CRON=0 0 1 * *       # First day of month

# Load Balancing (if using multiple instances)
STICKY_SESSIONS=true
SOCKET_IO_STICKY_SESSIONS=true

# Health Check Settings
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# Scaling Configuration
MAX_CONCURRENT_REQUESTS=1000
CLUSTER_WORKERS=auto             # 'auto' uses CPU count

# Security Settings
CORS_ORIGINS=https://yourdomain.com,https://admin.yourdomain.com
HELMET_CSP=true
TRUST_PROXY=true

# Monitoring & Alerts
PROMETHEUS_METRICS=true
ALERT_EMAIL=admin@yourdomain.com
ALERT_SLACK_WEBHOOK=your_slack_webhook

# AWS Configuration (if using AWS services)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
S3_BUCKET_NAME=your_s3_bucket